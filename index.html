<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Verbos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }

        .quiz-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 400px;
            display: block;
        }

        .question {
            margin: 20px 0;
            text-align: center;
        }

        .question p {
            font-size: 48px;
            margin: 0;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            margin: 10px 0;
        }

        .option {
            cursor: pointer;
            padding: 10px;
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .option:hover {
            background-color: #ddd;
        }

        .correct {
            background-color: #4CAF50;
            color: white;
        }

        .incorrect {
            background-color: #f44336;
            color: white;
        }

        #next-button {
            display: none;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        #next-button:hover {
            background-color: #45a049;
        }

        #error-message {
            text-align: center;
            color: red;
            font-size: 18px;
            margin-top: 10px;
        }

    </style>
</head>
<body>

<div class="quiz-container" id="quiz-container">
    <h1>Quiz de Verbos</h1>

    <div class="question" id="question">
        <p></p>
    </div>
    <ul class="options" id="options">
        <!-- As opções serão carregadas aqui via JavaScript -->
    </ul>
    <div id="error-message"></div>  <!-- Mensagem de erro -->
</div>

<script>
    const questions = [
        { question: "Abraçando", correctAnswer: "hugging" },
        { question: "Abrindo", correctAnswer: "opening" },
        { question: "Acariciando", correctAnswer: "caressing" },
        { question: "Aceitando", correctAnswer: "accepting" },
        { question: "Acordando", correctAnswer: "waking up" },
        { question: "Adicionando", correctAnswer: "adding" },
        { question: "Atacando", correctAnswer: "attacking" },
        { question: "Esperando", correctAnswer: "waiting" },
        { question: "Consertando", correctAnswer: "fixing" },
        { question: "Ajudando", correctAnswer: "helping" }
    ];

    const allAnswers = [
        "hugging", "opening", "caressing", "accepting", "waking up", "adding", "attacking", "waiting", "fixing", "helping"
    ];

    let currentQuestionIndex = 0;
    let correctAnswers = [];  // Armazenar as respostas corretas (para manter a cor verde)

    // Função para embaralhar as perguntas aleatoriamente
    function shuffleQuestions() {
        for (let i = questions.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [questions[i], questions[j]] = [questions[j], questions[i]]; // Trocar elementos
        }
    }

    // Criar as opções fixas
    function createOptions() {
        const optionsContainer = document.getElementById('options');
        allAnswers.forEach(answer => {
            const optionElement = document.createElement('li');
            optionElement.classList.add('option');
            optionElement.textContent = answer;

            // Verificar se a resposta já foi marcada como correta
            if (correctAnswers.includes(answer)) {
                optionElement.classList.add('correct');
            }

            optionElement.onclick = function () {
                checkAnswer(answer, optionElement);
            };
            optionsContainer.appendChild(optionElement);
        });
    }

    // Exibir a pergunta atual
    function showQuestion() {
        const questionData = questions[currentQuestionIndex];
        const questionElement = document.getElementById('question').querySelector('p');
        
        // Exibir a palavra em português
        questionElement.textContent = questionData.question;
    }

    function checkAnswer(selectedAnswer, clickedElement) {
        const options = clickedElement.parentElement.querySelectorAll('.option');
        const errorMessageElement = document.getElementById('error-message');
        
        // Verificar se a resposta está correta
        if (selectedAnswer === questions[currentQuestionIndex].correctAnswer) {
            clickedElement.classList.add('correct');
            correctAnswers.push(selectedAnswer);  // Armazenar a resposta correta para não perder a cor verde
            errorMessageElement.textContent = '';  // Limpar mensagem de erro
            setTimeout(() => {
                // Avançar automaticamente para a próxima pergunta
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion();
                    resetOptions();  // Resetar as opções para que fiquem interativas novamente
                } else {
                    alert("Quiz Completo!");
                }
            }, 1000); // Avança após 1 segundo
        } else {
            // Marcar resposta errada e exibir mensagem
            clickedElement.classList.add('incorrect');
            errorMessageElement.textContent = 'Resposta Errada! Tente novamente.';
            
            // Desabilitar todas as opções após a escolha
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Permitir que o usuário tente novamente
            setTimeout(() => {
                resetOptions();  // Resetar as opções
                errorMessageElement.textContent = '';  // Limpar mensagem de erro
                options.forEach(option => {
                    option.style.pointerEvents = 'auto';
                });
            }, 2000); // Espera 2 segundos para dar feedback e permitir nova tentativa
        }
    }

    // Resetar as opções para que fiquem interativas
    function resetOptions() {
        const optionsContainer = document.getElementById('options');
        optionsContainer.innerHTML = ''; // Limpar as opções
        createOptions(); // Criar novamente as opções
    }

    // Inicializar o quiz
    function initQuiz() {
        shuffleQuestions();  // Embaralhar as perguntas
        createOptions();
        showQuestion();
    }

    // Iniciar o quiz
    initQuiz();
</script>

</body>
</html>
